{"version":3,"sources":["firebase.js","pages/Login.jsx","pages/SignUp.jsx","components/ChatSection.js","components/ChatsList.jsx","components/Account.jsx","components/ContactsSection.js","components/InfoSection.js","pages/Home.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","Login","emailRef","useRef","passwordRef","useState","error","setError","a","email","current","value","password","signInWithEmailAndPassword","console","log","message","style","background","height","display","flexDirection","alignItems","width","borderRadius","boxShadow","marginTop","overflow","src","alt","fontWeight","textAlign","color","className","ref","type","placeholder","onClick","to","SignUp","nameRef","cpasswordRef","name","trim","cpassword","createUserWithEmailAndPassword","then","user","uid","collection","doc","set","Groups","img","bio","docRef","id","catch","currentUser","updateProfile","displayName","ChatSection","setinfoOpen","group","setGroup","userID","messages","setMessages","usernames","setUsernames","useEffect","orderBy","onSnapshot","snapshot","docs","map","data","snaps","users","userid","get","Promise","all","TopBar","MessageSection","groupID","SendBar","sendMessage","add","ddtoggle","setddtoggle","modaltoggle","setModalToggle","addemail","setAddEmail","wref","UserNamesList","dummynames","i","length","push","Object","values","handleSubmit","e","preventDefault","where","snap","forEach","update","FieldValue","arrayUnion","Modal","autoComplete","onSubmit","autoFocus","onChange","target","DropDown","handleClickOutside","event","contains","document","addEventListener","removeEventListener","useOutsideAlerter","objectFit","alert","role","sort","b","Date","time","seconds","showdeletemodal","setShowDeleteModal","showImgmodal","setShowImgModal","selectedmessageId","setSelectedMessageId","selectedImgSrc","setSelectedImgSrc","messagesEndRef","DeleteModal","filter","msg","delete","ImgModal","Sent","toTimeString","split","hm","Received","n","sender","scrollIntoView","ImgSent","imglink","ImgReceived","padding","setMessage","hiddenFileInput","click","reader","FileReader","readAsDataURL","files","onload","result","now","ChatsList","list","selectedGrpId","item","Account","show","close","setUser","editname","setEditname","editbio","setEditbio","setName","fref","handleClick","updateDb","changefield","Edit","maxLength","spellCheck","p","u","handleChange","ContactsSection","setShow","newgrp","setNewGrp","logout","signOut","createdAt","desc","subdocRef","cursor","InfoSection","editgname","setEditgname","editgdesc","setEditgdesc","showexitmodal","setShowExitModal","gname","setGname","ExitModal","arrayRemove","GetCreatedAt","cgroup","d","dt","getDate","getMonth","getFullYear","App","infoOpen","groups","setGroups","groupIds","groupId","loggedIn","setLoggedIn","loading","setLoading","onAuthStateChanged","exact","path","component","Home","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.850fa61c.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAmNVCVh0sUDPC-Gq56q4jeS996TdSmjj0\",\r\n  authDomain: \"whatsapp-clone-dcfc3.firebaseapp.com\",\r\n  databaseURL:\r\n    \"https://whatsapp-clone-dcfc3-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"whatsapp-clone-dcfc3\",\r\n  storageBucket: \"whatsapp-clone-dcfc3.appspot.com\",\r\n  messagingSenderId: \"590792210418\",\r\n  appId: \"1:590792210418:web:7210fca42c5c904d049d6b\",\r\n  measurementId: \"G-EYGEME7K2S\",\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nvar db = firebase.firestore();\r\nvar auth = firebase.auth();\r\n\r\nexport {firebase,auth,db};\r\n","import { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { auth} from \"../firebase\";\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const [error, setError] = useState(null);\r\n  async function login() {\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, password);\r\n    } catch (e) {\r\n      console.log(e);\r\n      setError(e.message);\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"#ddd\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div style={{ background: \"teal\", width: \"100vw\", height: \"8em\" }}></div>\r\n      <div\r\n        style={{\r\n          background: \"#eee\",\r\n          width: \"30em\",\r\n          borderRadius: 10,\r\n          boxShadow: \"2px 2px 5px grey\",\r\n          marginTop: \"-3em\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <div style={{ background: \"#1ebea6\" }}>\r\n          <img\r\n            style={{ width: \"100%\" }}\r\n            src=\"https://th.bing.com/th/id/Rc1610aaa87c61a8102270333758e7d8c?rik=GiHz7sNbhAPT1Q&riu=http%3a%2f%2fonlinestory.in%2fwp-content%2fuploads%2f2019%2f07%2fwhatsapp-logo.jpg&ehk=RQB7ex32h0dGXKqbgEqVniJcsAVQPvEtWFj7gmqb5Qo%3d&risl=&pid=ImgRaw\"\r\n            alt=\".\"\r\n          />\r\n          <h4\r\n            style={{\r\n              fontWeight: \"normal\",\r\n              textAlign: \"center\",\r\n              marginTop: \"-1.5em\",\r\n              color: \"#fff\",\r\n            }}\r\n          >\r\n            Login to your account\r\n          </h4>\r\n        </div>\r\n        <div className=\"my-4 mx-5\">\r\n          {error && <div className=\"alert alert-danger\">{error}</div>}\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={emailRef}\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter email address\"\r\n            />\r\n            {/* <div id=\"emailHelp\" class=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n        </div> */}\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={passwordRef}\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter password\"\r\n            />\r\n            {/* <div id=\"emailHelp\" class=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n        </div> */}\r\n          </div>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <button className=\"btn btn-success\" onClick={login}>\r\n              Login\r\n            </button>\r\n          </div>\r\n          <div className=\"my-2\">\r\n            <Link to=\"/signup\">\r\n              <small>create new account</small>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useRef } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\n\r\nexport default function SignUp() {\r\n  const nameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const cpasswordRef = useRef();\r\n  const [error, setError] = useState(null);\r\n  async function signUp() {\r\n    const name = nameRef.current.value;\r\n    if (name.trim() === \"\") setError(\"Name is a required field\");\r\n    else {\r\n      const email = emailRef.current.value;\r\n      const password = passwordRef.current.value;\r\n      const cpassword = cpasswordRef.current.value;\r\n      if (password === cpassword) {\r\n        try {\r\n          await auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then(({user}) => {\r\n              console.log(user.uid)\r\n              db.collection(\"users\").doc(user.uid).set({name:name,email:email,Groups:[],img:\"\",bio:\"\"})\r\n                .then((docRef) => {\r\n                  console.log(\"Document written with ID: \", docRef.id);\r\n                })\r\n                .catch((error) => {\r\n                  console.error(\"Error adding document: \", error);\r\n                });\r\n            });\r\n          await auth.currentUser.updateProfile({ displayName: name });\r\n        } catch (e) {\r\n          console.log(e);\r\n          setError(e.message);\r\n        }\r\n      } else setError(\"passwords didn't match\");\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"#ddd\",\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div style={{ background: \"teal\", width: \"100vw\", height: \"8em\" }}></div>\r\n      <div\r\n        style={{\r\n          background: \"#eee\",\r\n          width: \"50em\",\r\n          height: \"30em\",\r\n          borderRadius: 10,\r\n          boxShadow: \"2px 2px 5px grey\",\r\n          marginTop: \"-3em\",\r\n          overflow: \"hidden\",\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <div style={{ background: \"#1ebea6\", width: \"50%\" }}>\r\n          <img\r\n            style={{ width: \"100%\" }}\r\n            src=\"https://th.bing.com/th/id/Rc1610aaa87c61a8102270333758e7d8c?rik=GiHz7sNbhAPT1Q&riu=http%3a%2f%2fonlinestory.in%2fwp-content%2fuploads%2f2019%2f07%2fwhatsapp-logo.jpg&ehk=RQB7ex32h0dGXKqbgEqVniJcsAVQPvEtWFj7gmqb5Qo%3d&risl=&pid=ImgRaw\"\r\n            alt=\".\"\r\n          />\r\n          <h4\r\n            style={{\r\n              fontWeight: \"normal\",\r\n              textAlign: \"center\",\r\n              marginTop: \"-1.5em\",\r\n              color: \"#fff\",\r\n            }}\r\n          >\r\n            Create new account\r\n          </h4>\r\n        </div>\r\n        <div className=\"my-5 mx-5\" style={{ width: \"50%\" }}>\r\n          {error && <div className=\"alert alert-danger\">{error}</div>}\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={nameRef}\r\n              className=\"form-control\"\r\n              placeholder=\"Enter your name\"\r\n            />\r\n            {/* <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n          </div> */}\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={emailRef}\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter email address\"\r\n            />\r\n            {/* <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n          </div> */}\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={passwordRef}\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter password\"\r\n            />\r\n            {/* <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n          </div> */}\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <input\r\n              ref={cpasswordRef}\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Confirm password\"\r\n            />\r\n            {/* <div id=\"emailHelp\" className=\"form-text\">\r\n              We'll never share your email with anyone else.\r\n          </div> */}\r\n          </div>\r\n          <div className=\"d-flex justify-content-center\">\r\n            <button className=\"btn btn-success text-center\" onClick={signUp}>\r\n              Signup\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { AiOutlineSearch, AiOutlinePaperClip } from \"react-icons/ai\";\r\nimport { BiDotsVerticalRounded } from \"react-icons/bi\";\r\nimport { CgSmileMouthOpen } from \"react-icons/cg\";\r\nimport { MdMic, MdDelete } from \"react-icons/md\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { db, firebase, auth } from \"../firebase\";\r\nexport default function ChatSection({ setinfoOpen, width, group, setGroup }) {\r\n  const userID = auth.currentUser.uid;\r\n  const [messages, setMessages] = useState([]);\r\n  const [usernames, setUsernames] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"groups/\" + group.id + \"/messages\")\r\n      .orderBy(\"time\")\r\n      .onSnapshot((snapshot) => {\r\n        console.log(group.id);\r\n        setMessages(\r\n          snapshot.docs.map((doc) => {\r\n            return {\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            };\r\n          })\r\n        );\r\n      });\r\n  }, [group]);\r\n  useEffect(() => {\r\n    let snaps = group.users.map((userid) => {\r\n      let snap = db.collection(\"users\").doc(userid).get();\r\n      return snap;\r\n    });\r\n    Promise.all(snaps).then((docs) => {\r\n      setUsernames(\r\n        docs.map((doc) => {\r\n          console.log(doc.data());\r\n          return { id: doc.id, name: doc.data().name };\r\n        })\r\n      );\r\n    });\r\n  }, [group]);\r\n\r\n  function sendMessage(message) {\r\n    db.collection(\"groups/\" + group.id + \"/messages\")\r\n      .add(message)\r\n      .then((docRef) => {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n  }\r\n  return (\r\n    <div className=\"chat\" style={{ width: width }}>\r\n      <TopBar\r\n        name={group.name}\r\n        usernames={usernames}\r\n        img={group.img}\r\n        setinfoOpen={setinfoOpen}\r\n        group={group}\r\n        setGroup={setGroup}\r\n      />\r\n      <MessageSection\r\n        messages={messages}\r\n        userID={userID}\r\n        setMessages={setMessages}\r\n        usernames={usernames}\r\n        groupID={group.id}\r\n      />\r\n      <SendBar sendMessage={sendMessage} userID={userID} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useOutsideAlerter(ref, setddtoggle, ddtoggle) {\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setddtoggle(!ddtoggle);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref, ddtoggle]);\r\n}\r\n\r\nfunction TopBar({ name, usernames, img, setinfoOpen, group, setGroup }) {\r\n  const [ddtoggle, setddtoggle] = useState(false);\r\n  const [modaltoggle, setModalToggle] = useState(false);\r\n  const [addemail, setAddEmail] = useState();\r\n  const wref = useRef(null);\r\n  useOutsideAlerter(wref, setddtoggle, ddtoggle);\r\n\r\n  function UserNamesList() {\r\n    let dummynames = [];\r\n    for (var i = 0; i < usernames.length - 1; i++) {\r\n      dummynames.push(Object.values(usernames[i])[1]);\r\n      dummynames.push(\", \");\r\n    }\r\n    dummynames.push(Object.values(usernames[i])[1]);\r\n    return <>{dummynames}</>;\r\n  }\r\n  function addmember(id) {\r\n    db.collection(\"groups\")\r\n      .doc(group.id)\r\n      .update({\r\n        users: firebase.firestore.FieldValue.arrayUnion(id),\r\n      });\r\n    console.log(group.id);\r\n    db.collection(\"users\")\r\n      .doc(id)\r\n      .update({\r\n        Groups: firebase.firestore.FieldValue.arrayUnion(group.id),\r\n      });\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setModalToggle(false);\r\n    db.collection(\"users\")\r\n      .where(\"email\", \"==\", addemail)\r\n      .get()\r\n      .then((snap) => {\r\n        snap.forEach((doc) => {\r\n          addmember(doc.id);\r\n        });\r\n      });\r\n  }\r\n  function Modal() {\r\n    return (\r\n      <div className=\"modalBack\">\r\n        <div className=\"addmodal\">\r\n          <form autoComplete=\"off\" onSubmit={(e) => handleSubmit(e)}>\r\n            <div className=\"modalTitle\">Enter Contact's email</div>\r\n            <div className=\"modalForm\">\r\n              <input\r\n                type=\"email\"\r\n                autoFocus=\"autoFocus\"\r\n                name=\"addemail\"\r\n                className=\"addemail\"\r\n                value={addemail}\r\n                onChange={(e) => setAddEmail(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"modalbuttons\">\r\n              <div\r\n                className=\"cancelbutton\"\r\n                onClick={() => {\r\n                  setModalToggle(false);\r\n                  setAddEmail(\"\");\r\n                }}\r\n              >\r\n                CANCEL\r\n              </div>\r\n              <div\r\n                className=\"deletebutton\"\r\n                onClick={(e) => {\r\n                  setModalToggle(false);\r\n                  handleSubmit(e);\r\n                }}\r\n              >\r\n                ADD\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  function DropDown() {\r\n    return (\r\n      <div ref={wref} className=\"ddMenu\">\r\n        <span\r\n          className=\"ddItem\"\r\n          onClick={() => {\r\n            setinfoOpen(true);\r\n            setddtoggle(!ddtoggle);\r\n          }}\r\n        >\r\n          Contact info\r\n        </span>\r\n        <span className=\"ddItem\">Select Messages</span>\r\n        <span\r\n          className=\"ddItem\"\r\n          onClick={() => {\r\n            setModalToggle(true);\r\n            setddtoggle(false);\r\n          }}\r\n        >\r\n          Add Participant\r\n        </span>\r\n        <span className=\"ddItem\">Delete Chat</span>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"topBar\">\r\n      <div onClick={() => setinfoOpen(true)}>\r\n        {img !== \"\" ? (\r\n          <img\r\n            className=\"dp\"\r\n            src={img}\r\n            alt=\"dp\"\r\n            style={{ objectFit: \"cover\" }}\r\n          />\r\n        ) : (\r\n          <img\r\n            className=\"dp\"\r\n            src=\"https://lh3.googleusercontent.com/ABlX4ekWIQimPjZ1HlsMLYXibPo2xiWnZ2iny1clXQm2IQTcU2RG0-4S1srWsBQmGAo=s300\"\r\n            alt=\"dp\"\r\n            style={{ objectFit: \"cover\" }}\r\n          />\r\n        )}\r\n      </div>\r\n      <div\r\n        className=\"details\"\r\n        onClick={() => {\r\n          setinfoOpen(true);\r\n        }}\r\n      >\r\n        <section className=\"gName\">\r\n          <span>{name}</span>\r\n        </section>\r\n        <section className=\"gMembers\">\r\n          {usernames.length !== 0 ? <UserNamesList /> : \"\"}\r\n        </section>\r\n      </div>\r\n      <div className=\"icons\">\r\n        <AiOutlineSearch onClick={() => alert(\"Search Clicked\")} />\r\n        <BiDotsVerticalRounded\r\n          role=\"button\"\r\n          onClick={() => setddtoggle(!ddtoggle)}\r\n        />\r\n      </div>\r\n      {ddtoggle && <DropDown />}\r\n      {modaltoggle && <Modal />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MessageSection({ messages, userID, setMessages, usernames, groupID }) {\r\n  const color = \"#029d00\";\r\n  useEffect(() => {\r\n    messages.sort(function (a, b) {\r\n      return new Date(b.time.seconds * 1000) - new Date(a.time.seconds * 1000);\r\n    });\r\n  }, []);\r\n  const [showdeletemodal, setShowDeleteModal] = useState(false);\r\n  const [showImgmodal, setShowImgModal] = useState(false);\r\n  const [selectedmessageId, setSelectedMessageId] = useState(\"\");\r\n  const [selectedImgSrc, setSelectedImgSrc] = useState(\"\");\r\n  const messagesEndRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current.scrollIntoView();\r\n  };\r\n\r\n  useEffect(scrollToBottom, [messages]);\r\n  function deletemsg() {\r\n    setMessages(messages.filter((msg) => msg.id !== selectedmessageId));\r\n    console.log(selectedmessageId);\r\n    db.collection(\"groups/\" + groupID + \"/messages\")\r\n      .doc(selectedmessageId)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  }\r\n\r\n  function DeleteModal({ type }) {\r\n    return (\r\n      <div className=\"modalBack\">\r\n        <div className=\"ownmodal\">\r\n          <div className=\"modalTitle\">Delete {type}?</div>\r\n          <div className=\"modalbuttons\">\r\n            <div\r\n              className=\"cancelbutton\"\r\n              onClick={() => {\r\n                setShowDeleteModal(false);\r\n              }}\r\n            >\r\n              CANCEL\r\n            </div>\r\n            <div\r\n              className=\"deletebutton\"\r\n              onClick={() => {\r\n                setShowDeleteModal(false);\r\n                deletemsg();\r\n              }}\r\n            >\r\n              DELETE\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  function ImgModal() {\r\n    return (\r\n      <div className=\"imgmodal\">\r\n        <span className=\"closebutton\">\r\n          <IoMdClose\r\n            onClick={() => {\r\n              setShowImgModal(!showImgmodal);\r\n            }}\r\n          />\r\n        </span>\r\n        <img src={selectedImgSrc} alt=\"selectedimg\" />\r\n      </div>\r\n    );\r\n  }\r\n  function Sent({ message }) {\r\n    var d = new Date(message.time);\r\n    let time = d.toTimeString().split(\" \")[0];\r\n    let [h, m,] = time.split(\":\");\r\n    let hm = h + \":\" + m;\r\n    return (\r\n      <>\r\n        <div className=\"sent\">\r\n          <span className=\"msg\">{message.message}</span>\r\n          <button className=\"dd\">\r\n            <MdDelete\r\n              className=\"ddIcon\"\r\n              onClick={() => {\r\n                setSelectedMessageId(message.id);\r\n                setShowDeleteModal(true);\r\n              }}\r\n            />\r\n          </button>\r\n          <span className=\"time\">{hm}</span>\r\n        </div>\r\n        {showdeletemodal && <DeleteModal type={\"Message\"} />}\r\n      </>\r\n    );\r\n  }\r\n  function Received({ message }) {\r\n    var d = new Date(message.time);\r\n    let time = d.toTimeString().split(\" \")[0];\r\n    let [h, m] = time.split(\":\");\r\n    let hm = h + \":\" + m;\r\n    let name = \"\";\r\n    for (let n of usernames) {\r\n      if (n.id === message.sender) {\r\n        name = n.name;\r\n      }\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"received\">\r\n          <span className=\"name\" style={{ color: color }}>\r\n            {name}\r\n          </span>\r\n          <span className=\"msg\">{message.message}</span>\r\n          <span className=\"time\">{hm}</span>\r\n        </div>\r\n        {showdeletemodal && <DeleteModal />}\r\n      </>\r\n    );\r\n  }\r\n  const ImgSent = ({ message }) => {\r\n    var d = new Date(message.time);\r\n    let time = d.toTimeString().split(\" \")[0];\r\n    let [h, m] = time.split(\":\");\r\n    let hm = h + \":\" + m;\r\n    return (\r\n      <>\r\n        <div className=\"imgsent\">\r\n          <button className=\"dd\">\r\n            <MdDelete\r\n              className=\"ddIcon\"\r\n              onClick={() => {\r\n                setSelectedMessageId(message.id);\r\n                setShowDeleteModal(true);\r\n              }}\r\n            />\r\n          </button>\r\n          <span className=\"img\">\r\n            <img\r\n              src={message.imglink}\r\n              style={{ objectFit: \"cover\" }}\r\n              onClick={() => {\r\n                setShowImgModal(true);\r\n                setSelectedImgSrc(message.imglink);\r\n              }}\r\n              alt=\"img\"\r\n            />\r\n          </span>\r\n          <span className=\"time\">{hm}</span>\r\n        </div>\r\n        {showdeletemodal && <DeleteModal type={\"Image\"} />}\r\n        {showImgmodal && <ImgModal />}\r\n      </>\r\n    );\r\n  };\r\n  const ImgReceived = ({ message }) => {\r\n    var d = new Date(message.time);\r\n    let time = d.toTimeString().split(\" \")[0];\r\n    let [h, m,] = time.split(\":\");\r\n    let hm = h + \":\" + m;\r\n    let name = \"\";\r\n    for (let n of usernames) {\r\n      if (n.id === message.sender) {\r\n        name = n.name;\r\n      }\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"imgreceived\">\r\n          <span className=\"name\" style={{ color: color }}>\r\n            {name}\r\n          </span>\r\n          <span className=\"img\">\r\n            <img\r\n              src={message.imglink}\r\n              alt=\"messageimg\"\r\n              onClick={() => {\r\n                setShowImgModal(true);\r\n                setSelectedImgSrc(message.imglink);\r\n              }}\r\n            />\r\n          </span>\r\n          <span className=\"time\">{hm}</span>\r\n        </div>\r\n        {showdeletemodal && <DeleteModal />}\r\n        {showImgmodal && <ImgModal />}\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"messageSection\">\r\n      <div className=\"message\">\r\n        {messages.map((message) =>\r\n          !message.type ? (\r\n            message.message !== \"\" ? (\r\n              message.sender === userID ? (\r\n                <Sent message={message} />\r\n              ) : (\r\n                <Received message={message} />\r\n              )\r\n            ) : null\r\n          ) : message.sender === userID ? (\r\n            <ImgSent message={message} />\r\n          ) : (\r\n            <ImgReceived message={message} />\r\n          )\r\n        )}\r\n        <div ref={messagesEndRef} style={{padding:10}}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SendBar({ sendMessage, userID }) {\r\n  const [message, setMessage] = useState({\r\n    sender: \"\",\r\n    message: \"\",\r\n    time: null,\r\n  });\r\n  function handleSubmit(e) {\r\n    sendMessage({\r\n      ...message,\r\n      message: message.message,\r\n      sender: userID,\r\n      time: Date.now(),\r\n    });\r\n    setMessage({\r\n      sender: \"\",\r\n      message: \"\",\r\n      time: null,\r\n    });\r\n    e.preventDefault();\r\n  }\r\n  const hiddenFileInput = useRef(null);\r\n  const handleClick = () => {\r\n    hiddenFileInput.current.click();\r\n  };\r\n  const handleChange = (event) => {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    reader.onload = function (e) {\r\n      sendMessage({\r\n        ...message,\r\n        type: \"img\",\r\n        imglink: reader.result,\r\n        sender: userID,\r\n        time: Date.now(),\r\n      });\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"sendBar\">\r\n      <div className=\"botIcons\">\r\n        <CgSmileMouthOpen className=\"boticon\" />\r\n        <AiOutlinePaperClip className=\"boticon\" onClick={handleClick} />\r\n        <input\r\n          type=\"file\"\r\n          ref={hiddenFileInput}\r\n          onChange={handleChange}\r\n          style={{ display: \"none\" }}\r\n        />\r\n      </div>\r\n      <div className=\"form\">\r\n        <form\r\n          onSubmit={(e) => {\r\n            handleSubmit(e);\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            name=\"message\"\r\n            className=\"messageField\"\r\n            value={message.message}\r\n            placeholder=\"Type a message\"\r\n            onChange={(e) =>\r\n              setMessage({ ...message, message: e.target.value })\r\n            }\r\n          />\r\n        </form>\r\n      </div>\r\n      <div className=\"micIcon\">\r\n        <MdMic />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nexport default function ChatsList({ setGroup,list,selectedGrpId }) {\r\n  return (\r\n    <div className=\"list\">\r\n      {list.length === 0 ? (\r\n        <p className=\"text-center mt-3 text-secondary\">No groups</p>\r\n      ) : (\r\n        list.map((item, i) => (\r\n          <div\r\n            key={i}\r\n            className={\"list-item \" +(item.id===selectedGrpId?\"active-item\":\"\")}\r\n            onClick={() => {\r\n              setGroup(item);\r\n            }}\r\n          >\r\n            <img\r\n              className=\"avatar big\"\r\n              src={\r\n                item.img\r\n                  ? item.img\r\n                  : \"https://lh3.googleusercontent.com/ABlX4ekWIQimPjZ1HlsMLYXibPo2xiWnZ2iny1clXQm2IQTcU2RG0-4S1srWsBQmGAo=s300\"\r\n              }\r\n              style={{ objectFit: \"cover\" }}\r\n              alt=\".\"\r\n            />\r\n            <div className=\"ml-1\">\r\n              <p className=\"title\">{item.name}</p>\r\n              <p className=\"subtitle\">This is the last message.</p>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useRef } from \"react\";\r\nimport { MdClose, MdEdit } from \"react-icons/md\";\r\nimport { db } from \"../firebase\";\r\nimport { IoCamera } from \"react-icons/io5\";\r\n\r\nexport default function Account({ show, close,user,setUser }) {\r\n  const [ddtoggle, setddtoggle] = useState(false);\r\n  const [editname, setEditname] = useState(false);\r\n  const [editbio, setEditbio] = useState(false);\r\n  const hiddenFileInput = useRef(null);\r\n  const [name, setName] = useState(user.name);\r\n  const wref = useRef(null);\r\n  const fref = useRef(null);\r\n  const handleClick = () => {\r\n    hiddenFileInput.current.click();\r\n    setddtoggle(false);\r\n  };\r\n  const handleChange = (event) => {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    reader.onload = function (e) {\r\n      setUser((p)=>{\r\n        let u={...p,img:reader.result}\r\n        updateDb(u)\r\n        return u\r\n      });\r\n    };\r\n  };\r\n  function DropDown() {\r\n    return (\r\n      <div ref={wref} className=\"dpdd\">\r\n        <span className=\"dpddItem\" onClick={handleClick}>\r\n          Upload Photo\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n  function updateDb(user) {\r\n    console.log(user)\r\n    db.collection(\"users\")\r\n      .doc(user.id)\r\n      .update({\r\n        name:user.name,\r\n        bio:user.bio,\r\n        img:user.img\r\n      })\r\n  }\r\n  function handleSubmit(e, changefield) {\r\n    e.preventDefault();\r\n    if (changefield === \"name\") {\r\n      if (name === \"\") {\r\n        setName(user.name);\r\n        setEditname(false);\r\n      } else {\r\n        setUser({ ...user, name: name });\r\n        updateDb({ ...user, name: name });\r\n        setEditname(false);\r\n      }\r\n    } else {\r\n      setEditbio(false);\r\n      updateDb(user);\r\n    }\r\n  }\r\n  function Edit({ value, changefield }) {\r\n    if (changefield === \"name\") {\r\n      return (\r\n        <div className=\"editform\">\r\n          <form\r\n            ref={fref}\r\n            autoComplete=\"off\"\r\n            onSubmit={(e) => handleSubmit(e, changefield)}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              maxLength=\"15\"\r\n              autoFocus=\"autoFocus\"\r\n              spellCheck=\"false\"\r\n              name=\"editname\"\r\n              className=\"editgname\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    } else if (changefield === \"bio\") {\r\n      return (\r\n        <div className=\"editform\">\r\n          <form\r\n            autoComplete=\"off\"\r\n            onSubmit={(e) => handleSubmit(e, changefield)}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              autoFocus=\"autoFocus\"\r\n              spellCheck=\"false\"\r\n              name=\"editbio\"\r\n              className=\"editgdesc\"\r\n              value={user.bio}\r\n              onChange={(e) => setUser({ ...user, bio: e.target.value })}\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user && (\r\n        <div className={`account ${show ? \"shown\" : \"\"}`}>\r\n          <div className=\"header\">\r\n            <p className=\"fs-large ml-1 my-0\">Account</p>\r\n            <MdClose className=\"close-icon mr-1\" onClick={close} />\r\n          </div>\r\n          <div className=\"infodp\">\r\n            {user.img !== \"\" ? (\r\n              <img\r\n                src={user.img}\r\n                alt=\"dp\"\r\n                className=\"account-img\"\r\n                style={{ objectFit: \"cover\" }}\r\n              />\r\n            ) : (\r\n              <img\r\n                src=\"https://picsum.photos/1000/1000\"\r\n                alt=\"dp\"\r\n                className=\"account-img\"\r\n                style={{ objectFit: \"cover\" }}\r\n              />\r\n            )}\r\n            <div className=\"dphover\" onClick={() => setddtoggle(true)}>\r\n              <div>\r\n                <IoCamera className=\"camicon\" />\r\n              </div>\r\n              <div className=\"changedp\">CHANGE DP</div>\r\n            </div>\r\n          </div>\r\n          <input\r\n            type=\"file\"\r\n            ref={hiddenFileInput}\r\n            onChange={(e) => {\r\n              handleChange(e);\r\n            }}\r\n            style={{ display: \"none\" }}\r\n          />\r\n          {ddtoggle && <DropDown />}\r\n          <div className=\"info\">\r\n            <div className=\"info-box\">\r\n              <span>Your Name</span>\r\n              <div className=\"info-content\">\r\n                <p className=\"m-0\">\r\n                  {editname ? (\r\n                    <Edit changefield={\"name\"} value={user.name} />\r\n                  ) : (\r\n                    user.name\r\n                  )}\r\n                </p>\r\n                <span\r\n                  className=\"editicon\"\r\n                  onClick={() => {\r\n                    setEditname(!editname);\r\n                  }}\r\n                >\r\n                  {!editname ? <MdEdit className=\"icon\" /> : <></>}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"info-box\">\r\n              <span>Your Bio</span>\r\n              <div className=\"info-content\">\r\n                <p className=\"m-0\">\r\n                  {editbio ? (\r\n                    <Edit changefield={\"bio\"} value={user.bio} />\r\n                  ) : user.bio === \"\" ? (\r\n                    \"Write something about yourself.\"\r\n                  ) : (\r\n                    <div className=\"agdesc\">{user.bio}</div>\r\n                  )}\r\n                </p>\r\n                <span\r\n                  className=\"editicon\"\r\n                  onClick={() => {\r\n                    setEditbio(!editbio);\r\n                  }}\r\n                >\r\n                  {!editbio ? <MdEdit className=\"icon\" /> : <></>}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"info-box\">\r\n              <span>Your Email</span>\r\n              <div className=\"info-content\">\r\n                <p className=\"m-0\">{user.email}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {MdSearch, MdChat, MdMoreVert } from \"react-icons/md\";\r\nimport { RiDonutChartLine } from \"react-icons/ri\";\r\nimport ChatsList from \"./ChatsList\";\r\nimport Account from \"./Account\";\r\nimport { auth, db, firebase } from \"../firebase\";\r\n\r\nexport default function ContactsSection({ setGroup, list,selectedGrpId }) {\r\n  const [show, setShow] = useState(false);\r\n  const [modaltoggle, setModalToggle] = useState(false);\r\n  const [newgrp, setNewGrp] = useState();\r\n  const [user, setUser] = useState();\r\n  const wref = useRef(null);\r\n  const [ddtoggle, setddtoggle] = useState(false);\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(auth.currentUser.uid)\r\n      .get()\r\n      .then((doc) => {\r\n        setUser({ id: doc.id, ...doc.data() });\r\n      });\r\n  }, []);\r\n  function useOutsideAlerter(ref, setddtoggle, ddtoggle) {\r\n    useEffect(() => {\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          setddtoggle(!ddtoggle);\r\n        }\r\n      }\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      };\r\n    }, [ref, ddtoggle]);\r\n  }\r\n  useOutsideAlerter(wref, setddtoggle, ddtoggle);\r\n\r\n  async function logout() {\r\n    await auth.signOut();\r\n  }\r\n  function DropDown() {\r\n    return (\r\n      <div ref={wref} className=\"moredd\">\r\n        <span\r\n          className=\"moreddItem\"\r\n          onClick={() => {\r\n            setddtoggle(!ddtoggle);\r\n            setModalToggle(true);\r\n          }}\r\n        >\r\n          Create Group\r\n        </span>\r\n        <span className=\"moreddItem\" onClick={logout}>\r\n          Logout\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setModalToggle(false);\r\n    db.collection(\"groups\")\r\n      .add({\r\n        name: newgrp,\r\n        createdAt: Date.now(),\r\n        desc: \"\",\r\n        img: \"https://wallpapercave.com/wp/wp2610904.jpg\",\r\n        users: [auth.currentUser.uid],\r\n      })\r\n      .then((docRef) => {\r\n        db.collection(\"users\")\r\n          .doc(auth.currentUser.uid)\r\n          .update({\r\n            Groups: firebase.firestore.FieldValue.arrayUnion(docRef.id),\r\n          });\r\n        db.collection(\"groups\")\r\n          .doc(docRef.id)\r\n          .collection(\"messages\")\r\n          .add({})\r\n          .then((subdocRef) => {\r\n            db.collection(\"groups\")\r\n              .doc(docRef.id)\r\n              .collection(\"messages\")\r\n              .doc(subdocRef.id)\r\n              .delete();\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n  }\r\n  function Modal() {\r\n    return (\r\n      <div className=\"modalBack\">\r\n        <div className=\"newgrpmodal\">\r\n          <form autoComplete=\"off\" onSubmit={(e) => handleSubmit(e)}>\r\n            <div className=\"modalTitle\">Enter Group Name: </div>\r\n            <div className=\"modalForm\">\r\n              <input\r\n                type=\"text\"\r\n                autoFocus=\"autoFocus\"\r\n                name=\"addemail\"\r\n                className=\"addemail\"\r\n                value={newgrp}\r\n                onChange={(e) => setNewGrp(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"modalbuttons\">\r\n              <div\r\n                className=\"cancelbutton\"\r\n                onClick={() => {\r\n                  setModalToggle(false);\r\n                  setNewGrp(\"\");\r\n                }}\r\n              >\r\n                CANCEL\r\n              </div>\r\n              <div\r\n                className=\"deletebutton\"\r\n                onClick={(e) => {\r\n                  setModalToggle(false);\r\n                  handleSubmit(e);\r\n                }}\r\n              >\r\n                CREATE\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"left\">\r\n      {user && (\r\n        <Account\r\n          show={show}\r\n          close={() => setShow(false)}\r\n          user={user}\r\n          setUser={setUser}\r\n        />\r\n      )}\r\n      {ddtoggle && <DropDown />}\r\n      {modaltoggle && <Modal />}\r\n      <div className=\"header\">\r\n        <div className=\"top\">\r\n          {user && user.img !== \"\" ? (\r\n            <img\r\n              src={user.img}\r\n              alt=\"dp\"\r\n              className=\"avatar\"\r\n              style={{ objectFit: \"cover\" }}\r\n              onClick={() => {\r\n                setShow(true);\r\n              }}\r\n            />\r\n          ) : (\r\n            <img\r\n              src=\"https://picsum.photos/1000/1000\"\r\n              alt=\"dp\"\r\n              className=\"avatar\"\r\n              style={{ objectFit: \"cover\" }}\r\n              onClick={() => {\r\n                setShow(true);\r\n              }}\r\n            />\r\n          )}\r\n          <div className=\"options\">\r\n            <RiDonutChartLine className=\"icon\" />\r\n            <MdChat className=\"icon\" />\r\n            <MdMoreVert\r\n              style={{ cursor: \"Pointer\" }}\r\n              className=\"icon\"\r\n              onClick={() => {\r\n                setddtoggle(true);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"search\">\r\n          <div className=\"input-box\">\r\n            <MdSearch className=\"search-icon\" />\r\n            <input\r\n              // onChange={(e) => filterData(e.target.value)}\r\n              className=\"input\"\r\n              placeholder=\"Search or start new chat\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ChatsList setGroup={setGroup} list={list} selectedGrpId={selectedGrpId} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { IoMdClose, IoMdThumbsDown } from \"react-icons/io\";\r\nimport { IoExitOutline, IoCamera } from \"react-icons/io5\";\r\nimport { MdEdit } from \"react-icons/md\";\r\nimport { db, firebase, auth } from \"../firebase\";\r\n\r\nexport default function InfoSection({ setinfoOpen, group, setGroup }) {\r\n  const userID = auth.currentUser.uid;\r\n  const [ddtoggle, setddtoggle] = useState(false);\r\n  const [editgname, setEditgname] = useState(false);\r\n  const [editgdesc, setEditgdesc] = useState(false);\r\n  const [showexitmodal, setShowExitModal] = useState(false);\r\n  const wref = useRef(null);\r\n  const fref = useRef(null);\r\n  const [gname, setGname] = useState();\r\n  useEffect(() => {\r\n    updateDb(group);\r\n    setGroup(group);\r\n    setGname(group.name);\r\n  }, [group]);\r\n  function useOutsideAlerter(ref) {\r\n    useEffect(() => {\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          setddtoggle(!ddtoggle);\r\n        }\r\n      }\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", handleClickOutside);\r\n      };\r\n    }, [ref, ddtoggle]);\r\n  }\r\n  useOutsideAlerter(wref);\r\n  const hiddenFileInput = useRef(null);\r\n  const handleClick = () => {\r\n    hiddenFileInput.current.click();\r\n    setddtoggle(false);\r\n  };\r\n  const handleChange = (event) => {\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    reader.onload = function (e) {\r\n      setGroup({\r\n        ...group,\r\n        img: reader.result,\r\n      });\r\n    };\r\n  };\r\n  function DropDown() {\r\n    return (\r\n      <div ref={wref} className=\"dpdd\">\r\n        <span className=\"dpddItem\" onClick={handleClick}>\r\n          Upload Photo\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n  function updateDb(group) {\r\n    db.collection(\"groups\")\r\n      .doc(group.id)\r\n      .set(group)\r\n      .then(() => {\r\n        console.log(\"Document successfully written!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n  }\r\n  function handleSubmit(e, changefield) {\r\n    e.preventDefault();\r\n    if (changefield === \"name\") {\r\n      if (gname === \"\") {\r\n        setGname(group.name);\r\n        setEditgname(false);\r\n      } else {\r\n        setGroup({ ...group, name: gname });\r\n        updateDb({ ...group, name: gname });\r\n        setEditgname(false);\r\n      }\r\n    } else {\r\n      setEditgdesc(false);\r\n      updateDb(group);\r\n    }\r\n  }\r\n  function Edit({ value, changefield }) {\r\n    if (changefield === \"name\") {\r\n      return (\r\n        <div className=\"editform\">\r\n          <form\r\n            ref={fref}\r\n            autoComplete=\"off\"\r\n            onSubmit={(e) => handleSubmit(e, changefield)}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              maxLength=\"15\"\r\n              autoFocus=\"autoFocus\"\r\n              spellCheck=\"false\"\r\n              name=\"editgname\"\r\n              className=\"editgname\"\r\n              value={gname}\r\n              onChange={(e) => setGname(e.target.value)}\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    } else if (changefield === \"desc\") {\r\n      return (\r\n        <div className=\"editform\">\r\n          <form\r\n            autoComplete=\"off\"\r\n            onSubmit={(e) => handleSubmit(e, changefield)}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              autoFocus=\"autoFocus\"\r\n              spellCheck=\"false\"\r\n              name=\"editgdesc\"\r\n              className=\"editgdesc\"\r\n              value={value}\r\n              onChange={(e) => setGroup({ ...group, desc: e.target.value })}\r\n            />\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  function exitgrp() {\r\n    db.collection(\"groups\")\r\n      .doc(group.id)\r\n      .update({\r\n        users: firebase.firestore.FieldValue.arrayRemove(userID),\r\n      });\r\n    db.collection(\"users\")\r\n      .doc(userID)\r\n      .update({\r\n        Groups: firebase.firestore.FieldValue.arrayRemove(group.id),\r\n      });\r\n  }\r\n  function ExitModal() {\r\n    return (\r\n      <div className=\"modalBack\">\r\n        <div className=\"ownmodal\">\r\n          <div className=\"modalTitle\">Exit Group?</div>\r\n          <div className=\"modalbuttons\">\r\n            <div\r\n              className=\"cancelbutton\"\r\n              onClick={() => {\r\n                setShowExitModal(false);\r\n              }}\r\n            >\r\n              CANCEL\r\n            </div>\r\n            <div\r\n              className=\"deletebutton\"\r\n              onClick={() => {\r\n                setShowExitModal(false);\r\n                exitgrp();\r\n                setGroup();\r\n              }}\r\n            >\r\n              EXIT\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  function GetCreatedAt({ cgroup }) {\r\n    var d = new Date(cgroup.createdAt);\r\n    let time = d.toTimeString().split(\" \")[0];\r\n    let [h, m,] = time.split(\":\");\r\n    var hm = h + \":\" + m;\r\n    console.log(cgroup.createdAt);\r\n    var dt = d.getDate() + \"/\" + (d.getMonth() + 1) + \"/\" + d.getFullYear();\r\n    console.log(dt);\r\n    return (\r\n      <>\r\n        Created on {dt} at {hm}\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"info\">\r\n        <div className=\"infoTop\">\r\n          <span className=\"closeIcon\">\r\n            <IoMdClose onClick={() => setinfoOpen(false)} />\r\n          </span>\r\n          <span className=\"grpinfo\">Group Info</span>\r\n        </div>\r\n        <div className=\"infoRest\">\r\n          <div className=\"infodetails\">\r\n            <div className=\"infodp\">\r\n              {group.img !== \"\" ? (\r\n                <img src={group.img} alt=\"dp\" style={{ objectFit: \"cover\" }} />\r\n              ) : (\r\n                <img\r\n                  src=\"https://lh3.googleusercontent.com/ABlX4ekWIQimPjZ1HlsMLYXibPo2xiWnZ2iny1clXQm2IQTcU2RG0-4S1srWsBQmGAo=s300\"\r\n                  alt=\"dp\"\r\n                  style={{ objectFit: \"cover\" }}\r\n                />\r\n              )}\r\n              <div className=\"dphover\" onClick={() => setddtoggle(true)}>\r\n                <div>\r\n                  <IoCamera className=\"camicon\" />\r\n                </div>\r\n                <div className=\"changedp\">CHANGE GROUP</div>\r\n                <div className=\"changedp\">ICON</div>\r\n              </div>\r\n            </div>\r\n            <input\r\n              type=\"file\"\r\n              ref={hiddenFileInput}\r\n              onChange={(e) => {\r\n                handleChange(e);\r\n              }}\r\n              style={{ display: \"none\" }}\r\n            />\r\n            {ddtoggle && <DropDown />}\r\n            <div className=\"infomain\">\r\n              <div className=\"infogname\">\r\n                <span className=\"infoname\">\r\n                  {editgname ? (\r\n                    <Edit changefield={\"name\"} value={group.name} />\r\n                  ) : (\r\n                    group.name\r\n                  )}\r\n                </span>\r\n                <span className=\"infodate\">\r\n                  {group && <GetCreatedAt cgroup={group} />}\r\n                </span>\r\n              </div>\r\n              <span\r\n                className=\"editicon\"\r\n                onClick={() => {\r\n                  setEditgname(!editgname);\r\n                }}\r\n              >\r\n                {!editgname ? <MdEdit /> : <></>}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"infoDesc\">\r\n            <div className=\"infoadesc\">\r\n              <span className=\"desc\">Description</span>\r\n              <span className=\"gdesc\">\r\n                {editgdesc ? (\r\n                  <Edit changefield={\"desc\"} value={group.desc} />\r\n                ) : group.desc === \"\" ? (\r\n                  \"Add group description\"\r\n                ) : (\r\n                  <div className=\"agdesc\">{group.desc}</div>\r\n                )}\r\n              </span>\r\n            </div>\r\n            <span\r\n              className=\"editicon\"\r\n              onClick={() => {\r\n                setEditgdesc(!editgdesc);\r\n              }}\r\n            >\r\n              {!editgdesc ? <MdEdit /> : <></>}\r\n            </span>\r\n          </div>\r\n          <div className=\"infoFooter\">\r\n            <div className=\"exitbutton\">\r\n              <span className=\"exiticon\">\r\n                <IoExitOutline />\r\n              </span>\r\n              <span\r\n                className=\"exit\"\r\n                onClick={() => {\r\n                  setShowExitModal(true);\r\n                }}\r\n              >\r\n                Exit group\r\n              </span>\r\n            </div>\r\n            <div className=\"reportbutton\">\r\n              <span className=\"reporticon\">\r\n                <IoMdThumbsDown />\r\n              </span>\r\n              <span className=\"report\"> Report group</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showexitmodal && <ExitModal />}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ChatSection from \"../components/ChatSection\";\r\nimport ContactsSection from \"../components/ContactsSection\";\r\nimport InfoSection from \"../components/InfoSection\";\r\nimport { db, auth } from \"../firebase\";\r\nimport \"../App2.css\";\r\n\r\nfunction App() {\r\n  const [infoOpen, setinfoOpen] = useState(false);\r\n  const [group, setGroup] = useState();\r\n  const [groups, setGroups] = useState([]);\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(auth.currentUser.uid)\r\n      .onSnapshot((snap) => {\r\n        if (snap.data() != null) {\r\n          const groupIds = snap.data().Groups;\r\n          console.log(groupIds);\r\n          var snaps = groupIds.map((groupId) => {\r\n            let snap = db.collection(\"groups\").doc(groupId).get();\r\n            return snap;\r\n          });\r\n        }\r\n        Promise.all(snaps).then((docs) => {\r\n          setGroups(\r\n            docs.map((doc) => {\r\n              return {\r\n                id: doc.id,\r\n                ...doc.data(),\r\n              };\r\n            })\r\n          );\r\n        });\r\n      });\r\n  }, [group]);\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"top2\" />\r\n      <div className=\"rest\" />\r\n      <div className=\"owncontainer\">\r\n        <ContactsSection setGroup={setGroup} list={groups} selectedGrpId={group?.id} />\r\n        {group && (\r\n          <ChatSection\r\n            setinfoOpen={setinfoOpen}\r\n            width={infoOpen ? \"40%\" : \"70%\"}\r\n            group={group}\r\n            setGroup={setGroup}\r\n          />\r\n        )}\r\n        {group && infoOpen && (\r\n          <InfoSection\r\n            setinfoOpen={setinfoOpen}\r\n            group={group}\r\n            setGroup={setGroup}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import \"./App.css\";\nimport \"./App2.css\";\nimport Login from \"./pages/Login\";\nimport SignUp from \"./pages/SignUp\";\nimport Home from \"./pages/Home\";\nimport { HashRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { auth } from \"./firebase\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      setLoading(false);\n      setLoggedIn(user !== null);\n    });\n    return unsubscribe;\n  }, []);\n\n  return (\n    <HashRouter>\n      <Switch>\n        {loggedIn && <Route exact path=\"/\" component={Home} />}\n        {!loggedIn && <Route exact path=\"/login\" component={Login} />}\n        {!loggedIn && <Route exact path=\"/signup\" component={SignUp} />}\n        {!loggedIn && (\n          <Route exact path=\"/loading\" component={() => <p>loading...</p>} />\n        )}\n        <Redirect exact to={loading ? \"/loading\" : loggedIn ? \"/\" : \"login\"} />\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}